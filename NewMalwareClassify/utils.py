import os
import json

#direct_root 是apk文件所在的直接文件夹
def yield_app_paths(direct_root):
    cnt = 1
    for app in os.listdir(direct_root):
        app_abs_path = os.path.join(direct_root, app)
        if (not (app.endswith(".txt") or app.endswith(".tar"))) and os.path.isfile(app_abs_path):
            print("app idx: ", cnt, "app_path: ", app_abs_path)
            #计数api在app中的出现次数，一个api在一个app中出现多次，累加多次
            yield app
            cnt += 1

def save_json(data, file_name):
    with open(file_name, 'w') as f:
        json.dump(data, f, indent=4)